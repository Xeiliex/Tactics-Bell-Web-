<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tactics Bell âš”ï¸</title>
  <!-- Fonts are vendored locally â€” no CDN required -->
  <link rel="stylesheet" href="vendor/fonts.css" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• TITLE SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-title" class="screen active">
    <div class="title-bg"></div>
    <div class="title-content">
      <div class="title-bell">ğŸ””</div>
      <h1 class="game-title">TACTICS BELL</h1>
      <p class="tagline">Battle Â· Level Up Â· Conquer</p>
      <button class="btn-primary btn-large" id="btn-new-game">âš” NEW GAME</button>
      <button class="btn-secondary btn-large hidden" id="btn-continue-game">â–¶ CONTINUE</button>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHARACTER WIZARD â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-create" class="screen hidden">
    <div class="wizard-shell">

      <!-- Top bar: member label + step dots -->
      <div class="wizard-topbar">
        <div class="wizard-member-label" id="wizard-member-label">âš” HERO Â· MEMBER 1 OF 3</div>
        <div class="wizard-step-dots" id="wizard-step-dots"></div>
      </div>

      <!-- Step heading -->
      <div class="wizard-step-heading">
        <h2 class="wizard-step-title" id="wizard-step-title">Choose Your Race</h2>
        <p class="wizard-step-sub" id="wizard-step-sub">Your heritage shapes your innate abilities.</p>
      </div>

      <!-- Dynamic content region (filled by JS) -->
      <div class="wizard-content" id="wizard-content"></div>

      <!-- Navigation row -->
      <div class="wizard-nav">
        <button class="btn-secondary" id="btn-wizard-back">â† Cancel</button>
        <button class="btn-primary" id="btn-wizard-next" disabled>Next â†’</button>
      </div>

    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• PARTY REVIEW SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-party-review" class="screen hidden">
    <div class="review-container">
      <h2 class="section-title">Your Party</h2>
      <p class="review-subtitle">Review your adventurers before heading into battle.</p>
      <div class="review-party-grid" id="review-party-grid"></div>
      <div class="review-actions">
        <button class="btn-secondary" id="btn-review-back">â† Recreate Party</button>
        <button class="btn-primary btn-large" id="btn-start-battle">âš” BEGIN ADVENTURE!</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• BATTLE SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-battle" class="screen hidden">
    <canvas id="renderCanvas"></canvas>

    <div id="battle-ui">
      <!-- Top bar -->
      <div id="top-bar">
        <div id="stage-display">Stage <span id="stage-number">1</span></div>
        <div id="phase-display">Your Turn</div>
        <div id="turn-counter">Turn <span id="turn-number">1</span></div>
        <button id="btn-fullscreen" class="btn-icon" title="Enter Fullscreen">&#x26F6;</button>
      </div>

      <!-- Turn order strip -->
      <div id="turn-order-bar">
        <span class="turn-label">Next:</span>
        <div id="turn-order-icons"></div>
      </div>

      <!-- Unit info panel -->
      <div id="unit-panel" class="hidden">
        <div id="unit-icon-box"><span id="unit-icon">âš”ï¸</span></div>
        <div id="unit-details">
          <div class="unit-name" id="unit-name">Hero</div>
          <div class="unit-subtitle" id="unit-subtitle">Human Warrior Â· Lv.1</div>
          <div class="hp-bar-wrap">
            <div class="hp-bar-fill" id="hp-bar-fill"></div>
          </div>
          <div class="hp-text" id="hp-text">50 / 50</div>
          <div class="unit-stats-row" id="unit-stats-row"></div>
        </div>
      </div>

      <!-- Action menu -->
      <div id="action-menu" class="hidden">
        <button class="action-btn" id="btn-attack">âš” Attack</button>
        <button class="action-btn skill-btn" id="btn-skill">âœ¨ Skill</button>
        <button class="action-btn wait-btn" id="btn-wait">â± Wait</button>
        <button class="action-btn back-btn" id="btn-cancel-action">â†© Back</button>
      </div>

      <!-- Skill sub-menu -->
      <div id="skill-menu" class="hidden">
        <div id="skill-list"></div>
        <button class="action-btn back-btn" id="btn-cancel-skill">â†© Back</button>
      </div>

      <!-- Message log -->
      <div id="message-log">
        <div id="message-text">Select a unit to begin your turn.</div>
      </div>

      <!-- Debug frame counter -->
      <div id="debug-fps"><span id="debug-fps-rate">FPS: --</span><br><span id="debug-fps-frame">Frame: 0</span></div>

      <!-- Hardware tier badge -->
      <div id="hw-tier-badge"></div>

      <!-- Party panel -->
      <div id="party-panel"></div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• LEVEL-UP SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-levelup" class="screen hidden">
    <div class="overlay-box levelup-box">
      <div class="levelup-burst">ğŸŒŸ</div>
      <div class="levelup-title">LEVEL UP!</div>
      <div id="levelup-level" class="levelup-level"></div>
      <div id="levelup-stats" class="levelup-stats"></div>
      <button class="btn-primary" id="btn-continue-levelup">Continue â†’</button>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• VICTORY SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-victory" class="screen hidden">
    <div class="overlay-box victory-box">
      <div class="result-icon">â­</div>
      <div class="result-title victory-title">VICTORY!</div>
      <div id="victory-details" class="result-details"></div>
      <div class="result-buttons">
        <button class="btn-primary" id="btn-next-stage">Next Stage â–¶</button>
        <button class="btn-secondary" id="btn-title-victory">Main Menu</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• DEFEAT SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-defeat" class="screen hidden">
    <div class="overlay-box defeat-box">
      <div class="result-icon">ğŸ’€</div>
      <div class="result-title defeat-title">DEFEATED</div>
      <p class="result-sub">Your adventure ends here...</p>
      <div class="result-buttons">
        <button class="btn-primary" id="btn-retry">Retry Stage</button>
        <button class="btn-secondary" id="btn-title-defeat">Main Menu</button>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOADING SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="screen-loading" class="loading-overlay hidden">
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <div class="loading-message">Preparing battleâ€¦</div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCRIPTS â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- Vendored libraries â€” served locally so the game works fully offline. -->
  <!-- Babylon.js (babylonjs@7.38.0) + Oimo.js physics plugin (oimo@1.0.9) -->
  <script src="vendor/babylon.js"></script>
  <script src="vendor/oimo.min.js"></script>
  <!-- OBJ file loader (babylonjs-loaders@7.38.0) â€” enables terrain model import -->
  <script src="vendor/babylon.objFileLoader.min.js"></script>
  <!-- anime.js 3.2.1 -->
  <script src="vendor/anime.min.js"></script>
  <!-- Game modules (order matters) -->
  <script src="js/hardware.js"></script>
  <script src="js/data.js"></script>
  <script src="js/terrain.js"></script>
  <script src="js/grid.js"></script>
  <script src="js/character.js"></script>
  <script src="js/scene.js"></script>
  <script src="js/combat.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/game.js"></script>
</body>
</html>
